{% extends 'base.html' %}
{% load static %}

{% block title %}Checkout - Marketplace{% endblock %}

{% block content %}
<div class="container">
    <h1>Checkout</h1>
    
    <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 2rem; margin: 2rem 0;">
        <div>
            <h2>Shipping Information</h2>
            <form method="post">
                {% csrf_token %}
                <div class="form-group">
                    <label for="{{ form.shipping_address.id_for_label }}">Address</label>
                    {{ form.shipping_address }}
                </div>
                <div class="form-group">
                    <label for="{{ form.shipping_city.id_for_label }}">City</label>
                    {{ form.shipping_city }}
                </div>
                <div class="form-group">
                    <label for="{{ form.shipping_state.id_for_label }}">State</label>
                    {{ form.shipping_state }}
                </div>
                <div class="form-group">
                    <label for="{{ form.shipping_zip.id_for_label }}">ZIP Code</label>
                    {{ form.shipping_zip }}
                </div>
                <div class="form-group">
                    <label for="{{ form.shipping_country.id_for_label }}">Country</label>
                    {{ form.shipping_country }}
                </div>
                <button type="submit" class="btn btn--flame">Place Order</button>
            </form>
        </div>
        
        <div>
            <h2>Order Summary</h2>
            <div style="background-color: var(--color-bg-light); padding: 1.5rem; border-radius: 0.5rem;">
                {% for item in cart %}
                    <div style="display: flex; justify-content: space-between; margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid var(--color-border);">
                        <div>
                            <strong>{{ item.product.name }}</strong>
                            <p style="font-size: 0.875rem; color: var(--color-text-light);">Qty: {{ item.quantity }}</p>
                        </div>
                        <div>${{ item.total_price }}</div>
                    </div>
                {% endfor %}
                <div style="margin-top: 1rem; padding-top: 1rem; border-top: 2px solid var(--color-border);">
                    <div style="display: flex; justify-content: space-between; font-size: 1.25rem; font-weight: bold;">
                        <span>Total:</span>
                        <span style="color: var(--color-primary);">${{ cart.get_total }}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

